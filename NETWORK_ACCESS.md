# Доступ из локальной сети

## Настройка сервера

Система настроена для доступа из локальной сети:

1. **Backend API** слушает на `0.0.0.0:8000`
2. **Frontend** слушает на `0.0.0.0:5173`
3. **CORS** настроен для приема запросов от любых источников (`allow_origins=["*"]`)

## Как подключиться с другого компьютера

### 1. Узнайте IP адрес сервера

На сервере (Mac) выполните:
```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

Например: `192.168.1.100`

### 2. Откройте браузер на клиенте

Перейдите по адресу:
```
http://192.168.1.100:5173
```

Замените `192.168.1.100` на реальный IP адрес вашего сервера.

### 3. Проверка доступности

Убедитесь, что:
- Оба компьютера в одной локальной сети
- Firewall на сервере не блокирует порты 5173 и 8000
- Backend и Frontend запущены

## Запуск системы

### Через Docker (рекомендуется для продакшена)
```bash
docker-compose up -d
```

### Локально на Mac (для разработки)

**Backend:**
```bash
cd backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

**Frontend:**
```bash
npm run dev
# Vite автоматически слушает на 0.0.0.0:5173
```

**Celery Worker:**
```bash
cd backend
celery -A app.core.celery_app worker --loglevel=info
```

## Проверка подключения

### Тест Backend
```bash
curl http://192.168.1.100:8000/api/v1/health
```

### Тест Frontend
Откройте в браузере: `http://192.168.1.100:5173`

## Troubleshooting

### Не могу подключиться с другого компьютера

1. **Проверьте firewall на Mac:**
   ```bash
   sudo pfctl -d  # Временно отключить (для теста)
   ```

2. **Проверьте, что сервисы слушают на 0.0.0.0:**
   ```bash
   lsof -i :5173  # Frontend
   lsof -i :8000  # Backend
   ```

3. **Проверьте сетевую доступность:**
   ```bash
   # На клиенте
   ping 192.168.1.100
   telnet 192.168.1.100 5173
   ```

### CORS ошибки

CORS уже настроен для приема всех источников. Если все равно есть проблемы:
- Очистите кеш браузера
- Проверьте консоль разработчика (F12) на наличие ошибок
- Убедитесь, что Backend запущен и доступен

