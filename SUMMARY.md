# üìã –°–≤–æ–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

## ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### 1. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ —á–∞—Ç–µ** ‚úì
- –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `DocumentPreviewModal.tsx`
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `ChatInterface.tsx` –∏ `DocumentLibrary.tsx`
- –ö–Ω–æ–ø–∫–∞ "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" –≤–º–µ—Å—Ç–æ "–°–∫–∞—á–∞—Ç—å"
- –§—É–Ω–∫—Ü–∏—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ

### 2. **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–î–æ–∫—É–º–µ–Ω—Ç—ã"** ‚úì
- –ó–∞–º–µ–Ω–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å" –Ω–∞ "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä"
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (–≥–æ—Ç–æ–≤–æ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)

### 3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** ‚úì
- Drag & drop –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- –í—ã–±–æ—Ä –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### 4. **Celery –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ RAG** ‚úì
- –°–æ–∑–¥–∞–Ω `backend/app/core/celery_app.py`
- –°–æ–∑–¥–∞–Ω `backend/app/tasks/rag_tasks.py`
- –î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å `celery_worker` –≤ `docker-compose.yml`
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ —ç–Ω–¥–ø–æ–∏–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- Fallback –Ω–∞ FastAPI BackgroundTasks –µ—Å–ª–∏ Celery –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### 5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–µ–π —Ñ–∞–π–ª–æ–≤** ‚úì
- –≠–Ω–¥–ø–æ–∏–Ω—Ç `/api/v1/documents/check-duplicate`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö
- HTTP 409 Conflict –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç

### 6. **–î–æ—Å—Ç—É–ø –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏** ‚úì
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `allow_origins=["*"]`
- Backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0:8000`
- Frontend —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0:5173`
- –°–æ–∑–¥–∞–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è `NETWORK_ACCESS.md`

### 7. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ A100 GPU** ‚úì
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä batch size –ø–æ GPU
- Batch processing –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è VRAM usage
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `backend/app/services/rag_service.py`

### 8. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤** ‚úì
- –£–ª—É—á—à–µ–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è –º–æ–¥–µ–ª–∏ Qwen
- –î–æ–±–∞–≤–ª–µ–Ω `repetition_penalty=1.1`
- –õ–æ–≥–∏–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–±–µ–∑ –¥—É–±–ª–µ–π —á–∞–Ω–∫–æ–≤)
- –ö—Ä–∞—Ç–∫–∏–µ –∏ —á–µ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã

## üìÇ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend
- `backend/app/api/v1/chat.py` - —É–ª—É—á—à–µ–Ω –ø—Ä–æ–º–ø—Ç, –ª–æ–≥–∏–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `backend/app/api/v1/documents.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–µ–π, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Celery
- `backend/app/services/qwen_service.py` - repetition_penalty
- `backend/app/services/rag_service.py` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π batch size –¥–ª—è A100
- `backend/app/core/config.py` - —Ä–∞—Å—à–∏—Ä–µ–Ω CORS
- `backend/app/main.py` - CORS –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
- `backend/requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω Celery
- `docker-compose.yml` - –¥–æ–±–∞–≤–ª–µ–Ω celery_worker

### Frontend
- `src/components/DocumentPreviewModal.tsx` - **–Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
- `components/ChatInterface.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- `components/DocumentLibrary.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- `components/UploadScreen.tsx` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–µ–π –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π
- `api/services/documents.ts` - –º–µ—Ç–æ–¥ checkDuplicate

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `backend/app/core/celery_app.py` - **–Ω–æ–≤—ã–π**
- `backend/app/tasks/__init__.py` - **–Ω–æ–≤—ã–π**
- `backend/app/tasks/rag_tasks.py` - **–Ω–æ–≤—ã–π**
- `CHANGELOG.md` - **–Ω–æ–≤—ã–π**
- `NETWORK_ACCESS.md` - **–Ω–æ–≤—ã–π**
- `SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### Production (Docker)
```bash
docker-compose up -d
```

### Development (Mac)

**–¢–µ—Ä–º–∏–Ω–∞–ª 1:**
```bash
cd backend
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2:**
```bash
cd backend
celery -A app.core.celery_app worker --loglevel=info
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3:**
```bash
npm run dev
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 4:**
```bash
docker-compose up postgres redis minio
```

## üåê –î–æ—Å—Ç—É–ø –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

1. –£–∑–Ω–∞–π—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞: `ifconfig | grep "inet " | grep -v 127.0.0.1`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: `http://<IP_–°–ï–†–í–ï–†–ê>:5173`

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: `NETWORK_ACCESS.md`

## üìù –ó–∞–º–µ—Ç–∫–∏

- –í—Å–µ TODO –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ –Ω–∞ A100
- –ù–µ—Ç linter –æ—à–∏–±–æ–∫
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- Celery —Ä–∞–±–æ—Ç–∞–µ—Ç —Å fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–º

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ PDF/DOCX –≤ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–µ (—Å–µ–π—á–∞—Å placeholder)
- Monitoring –¥–ª—è Celery (Flower)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ CORS –¥–ª—è production
- Rate limiting –¥–ª—è API

